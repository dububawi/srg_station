#/usr/bin/php
<?php

$gPowerMas = array (
	0,	//0%, 0ms, 0gr
	9.368,	//1%, 9.368ms, 168.624gr
	9.102,	//2%, 9.102ms, 163.836gr
	8.896,	//3%, 8.896ms, 160.128gr
	8.722,	//4%, 8.722ms, 156.996gr
	8.568,	//5%, 8.568ms, 154.224gr
	8.428,	//6%, 8.428ms, 151.704gr
	8.3,	//7%, 8.3ms, 149.4gr
	8.178,	//8%, 8.178ms, 147.204gr
	8.064,	//9%, 8.064ms, 145.152gr
	7.956,	//10%, 7.956ms, 143.208gr
	7.852,	//11%, 7.852ms, 141.336gr
	7.752,	//12%, 7.752ms, 139.536gr
	7.656,	//13%, 7.656ms, 137.808gr
	7.562,	//14%, 7.562ms, 136.116gr
	7.472,	//15%, 7.472ms, 134.496gr
	7.384,	//16%, 7.384ms, 132.912gr
	7.298,	//17%, 7.298ms, 131.364gr
	7.214,	//18%, 7.214ms, 129.852gr
	7.132,	//19%, 7.132ms, 128.376gr
	7.052,	//20%, 7.052ms, 126.936gr
	6.974,	//21%, 6.974ms, 125.532gr
	6.896,	//22%, 6.896ms, 124.128gr
	6.82,	//23%, 6.82ms, 122.76gr
	6.744,	//24%, 6.744ms, 121.392gr
	6.67,	//25%, 6.67ms, 120.06gr
	6.596,	//26%, 6.596ms, 118.728gr
	6.524,	//27%, 6.524ms, 117.432gr
	6.454,	//28%, 6.454ms, 116.172gr
	6.382,	//29%, 6.382ms, 114.876gr
	6.314,	//30%, 6.314ms, 113.652gr
	6.244,	//31%, 6.244ms, 112.392gr
	6.176,	//32%, 6.176ms, 111.168gr
	6.108,	//33%, 6.108ms, 109.944gr
	6.04,	//34%, 6.04ms, 108.72gr
	5.972,	//35%, 5.972ms, 107.496gr
	5.906,	//36%, 5.906ms, 106.308gr
	5.84,	//37%, 5.84ms, 105.12gr
	5.774,	//38%, 5.774ms, 103.932gr
	5.708,	//39%, 5.708ms, 102.744gr
	5.644,	//40%, 5.644ms, 101.592gr
	5.578,	//41%, 5.578ms, 100.404gr
	5.514,	//42%, 5.514ms, 99.252gr
	5.45,	//43%, 5.45ms, 98.1gr
	5.386,	//44%, 5.386ms, 96.948gr
	5.322,	//45%, 5.322ms, 95.796gr
	5.258,	//46%, 5.258ms, 94.644gr
	5.194,	//47%, 5.194ms, 93.492gr
	5.13,	//48%, 5.13ms, 92.34gr
	5.066,	//49%, 5.066ms, 91.188gr
	5.002,	//50%, 5.002ms, 90.036gr
	4.938,	//51%, 4.938ms, 88.884gr
	4.876,	//52%, 4.876ms, 87.768gr
	4.812,	//53%, 4.812ms, 86.616gr
	4.748,	//54%, 4.748ms, 85.464gr
	4.684,	//55%, 4.684ms, 84.312gr
	4.62,	//56%, 4.62ms, 83.16gr
	4.556,	//57%, 4.556ms, 82.008gr
	4.49,	//58%, 4.49ms, 80.82gr
	4.426,	//59%, 4.426ms, 79.668gr
	4.362,	//60%, 4.362ms, 78.516gr
	4.296,	//61%, 4.296ms, 77.328gr
	4.23,	//62%, 4.23ms, 76.14gr
	4.164,	//63%, 4.164ms, 74.952gr
	4.098,	//64%, 4.098ms, 73.764gr
	4.032,	//65%, 4.032ms, 72.576gr
	3.966,	//66%, 3.966ms, 71.388gr
	3.898,	//67%, 3.898ms, 70.164gr
	3.83,	//68%, 3.83ms, 68.94gr
	3.762,	//69%, 3.762ms, 67.716gr
	3.692,	//70%, 3.692ms, 66.456gr
	3.622,	//71%, 3.622ms, 65.196gr
	3.552,	//72%, 3.552ms, 63.936gr
	3.48,	//73%, 3.48ms, 62.64gr
	3.408,	//74%, 3.408ms, 61.344gr
	3.336,	//75%, 3.336ms, 60.048gr
	3.26,	//76%, 3.26ms, 58.68gr
	3.186,	//77%, 3.186ms, 57.348gr
	3.11,	//78%, 3.11ms, 55.98gr
	3.032,	//79%, 3.032ms, 54.576gr
	2.954,	//80%, 2.954ms, 53.172gr
	2.872,	//81%, 2.872ms, 51.696gr
	2.79,	//82%, 2.79ms, 50.22gr
	2.706,	//83%, 2.706ms, 48.708gr
	2.622,	//84%, 2.622ms, 47.196gr
	2.534,	//85%, 2.534ms, 45.612gr
	2.442,	//86%, 2.442ms, 43.956gr
	2.35,	//87%, 2.35ms, 42.3gr
	2.254,	//88%, 2.254ms, 40.572gr
	2.154,	//89%, 2.154ms, 38.772gr
	2.05,	//90%, 2.05ms, 36.9gr
	1.94,	//91%, 1.94ms, 34.92gr
	1.826,	//92%, 1.826ms, 32.868gr
	1.706,	//93%, 1.706ms, 30.708gr
	1.576,	//94%, 1.576ms, 28.368gr
	1.436,	//95%, 1.436ms, 25.848gr
	1.282,	//96%, 1.282ms, 23.076gr
	1.108,	//97%, 1.108ms, 19.944gr
	0.904,	//98%, 0.904ms, 16.272gr
	0.638,	//99%, 0.638ms, 11.484gr
	0.002,	//100%, 0.002ms, 0.036gr
);

$gPowerNew = array();
$res = array();

/*
 16000000Hz / 1024 = 15625Hz = 0.064ms / max 4ms
 16000000Hz / 256 = 62500Hz = 0.016ms / max 
 *16000000Hz / 64 = 250000Hz = 0.004ms / max
 100Hz * 100 = 10000Hz = 0.1ms
*/

$tick = 1.0 * 1000 / (16000000.0 / 8);

foreach($gPowerMas as $p => $t) {
    $v = ceil($t / $tick);

    $a = $t * 18; //1ms = 18gr

    $res[] = "\t".$v.','."\t".
        '//'.
        $p.'%'.', '.
        $t.'ms'.', '.
        $a.'gr';
}


$res = 'PGM(uint16_t gPowerMas[]) = {'."\n".implode("\n", $res)."\n".'};'."\n";

file_put_contents('./exe/sin_power.txt', $res);
